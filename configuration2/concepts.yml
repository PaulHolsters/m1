concepts:
  - name: product
    attr:
      # een name is niet verplicht, indien niet opgegeven dan wordt gewoon de naam van het type gebruikt als name
      - type: identifying name
      - name: type
        type: enum
        values:
           - hottub
           - sauna
           - tiny house
      - type: unitprice
        constraints:
          - cents: false
          - currency: EUR
      - type: product properties
      - type: product options
        # indien er geen ambiguÃ¯teit is is het ook toegelaten om gewoon "constraints" te schrijven
        constraints:
          - for: unitprice
            cents: false
            currency: EUR
  - name: quotation
    attr:
      - name: selected product
        # product -> ID kan je ook gebruiken, maar dan zal het product van een quotation mee veranderen met elke verandering van het hier gekoppelde achterliggende product
        # gebruik je hier de conceptnaam dan zullen de waarden apart gekopieerd worden en dus behouden ook als het achterliggende product zou wijzigen
        # als het onderstaande in meervoudsvorm zou staan (attribute plural) dan zou de engine automatisch veronderstellen
        # dat het gaat om meerdere producten zodat in de db hier een lijst toegestaan zal worden
        type: product
      - name: VAT
        type: tax
      - type: discount
      - name: status
        # todo zorg dat je custom constraints kan maken voor een enum
        type: enum
        constraints:
          - allowed values:
              - goedgekeurd
              - verstuurd
              - aangemaakt
              - aangepast
              - gefactureerd
              - aan te passen
          - backend only:
              - verstuurd
              - gefactureerd
              - aangepast
              - aangemaakt
          - relations:
              - value: gefactureerd
                previous value: goedgekeurd
              - value: aangemaakt
                precessor: false
      - name: selected options
        # dit betekent dat dit altijd een optie zal moeten zijn afkomstig van hey product uit selected product
        # als dit niet de bedoeling is dan ga je hier product options gebruiken zonder product -> of
        # product options -> ID als het zuiver een referentie moet zijn
        # of je moet de name van een attr gebruiken als het zou gaan om het product van een ander attr
        type: product -> product options
      - name: selected extra services
        type: services
      - name: customer info
        type: group
        attr:
          - type: firstname
          - type: lastname
          - name: address
            type: group
            attr:
              - name: street
                type: name
              - type: housenumber
              - type: postalcode
              - name: city
                type: name
          - type: e-mail
      - name: groupId
        type: UUID
        default: new UUID()